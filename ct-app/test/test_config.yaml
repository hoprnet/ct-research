---
# =============================================================================
# 
# =============================================================================
environment: test

flags:
  core: 
    apply_economic_model: 30
    ticket_parameters: 30

    connected_peers: 30
    topology: 30

    rotate_subgraphs: 30
    open_sessions: 30

    peers_rewards: 30
    registered_nodes: 30
    allocations: 30
    eoa_balances: 30
    nft_holders: 30
    safe_fundings: 30
    
  node:
    healthcheck: 10
    retrieve_peers: 30
    retrieve_channels: 30
    retrieve_balances: 30

    open_channels: Off
    fund_channels: Off
    close_old_channels: Off
    close_pending_channels: Off
    close_incoming_channels: Off

    get_total_channel_funds: Off
    
    observe_message_queue: On
    close_sessions: 30

  peer:
    message_relay_request: Off

# =============================================================================
# 
# =============================================================================
economicModel:
  min_safe_allowance: "0 wxHOPR"
  nft_threshold: "0 wxHOPR"

  legacy:
    proportion: 0.9
    apr: 12.0

    coefficients:
      a: 1
      b: 2
      c: "3 wxHOPR"
      l: "0.000001 wxHOPR"
    
    equations: 
      fx: 
        formula: "a * x"
        condition: "l <= x <= c"
      gx:
        formula: "a * c + (x - c) ** (1 / b)"
        condition: "x > c"

  sigmoid:
    proportion: 0.1
    max_apr: 15
    network_capacity: 2000
    total_token_supply: "450000000 wxHOPR"

    offset: -0.9
    buckets:
      economic_security:
        flatness: 1.8
        skewness: 1.52
        upperbound: 0.4
        offset: 3.14

      network_capacity:
        flatness: 2.97
        skewness: 0.72
        upperbound: 1.0
        offset: 4.08
        
# =============================================================================
# 
# =============================================================================
peer:
  min_version: '2.0.7'
  sleep_mean_time: 30
  sleep_std_time: 2

# =============================================================================
# 
# =============================================================================
channel:
  min_balance: "0.05 wxHOPR"
  funding_amount: "0.2 wxHOPR"
  max_age_seconds: 60

# =============================================================================
# 
# =============================================================================
sessions:
  packet_size: 452
  aggregated_packets: 3
  batch_size: 5
  
# =============================================================================
# 
# =============================================================================
fundings:
  constant: 0

# =============================================================================
# 
# =============================================================================
subgraph:
  type: auto # auto | default | backup
  user_id: 1000
  api_key: 

  mainnet_allocations:
    query_id: ~
    slug: hopr-allocations
  gnosis_allocations:
    query_id: ~
    slug: hopr-allocations-gnosis
  hopr_on_mainnet:
    query_id: ~
    slug: hopr-on-mainnet
  hopr_on_gnosis:
    query_id: ~
    slug: hopr-on-gnosis
  fundings:
    query_id: ~
    slug: subgraph-wxhopr-txs
  rewards:
    query_id: ~
    slug: rewards_backup_url
  safes_balance:
    query_id: query-id-safes
    slug: safes_backup_url
  staking:
    query_id: query-id-staking
    slug: staking_backup_url
...